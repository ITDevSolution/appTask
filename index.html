<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <meta http-equiv="X-UA-Compatible" content="ie=edge">
     <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
          crossorigin="anonymous">
     <title>Tareas VueJS</title>
     <style>
          .tareaRealizada{
               text-decoration: line-through;
          }
     </style>

</head>

<body>

     <div id="taskApp">
          <div class="container">
               <div class="row">

                    <div class="col-sm-12 col-md-6 col-lg-6 col-xl-6">
                         <h1>Add Task</h1>

                         <form class="mt-4" v-on:submit="agregarTarea">
                              <div class="form-group">
                                   <div class="col-md-5">
                                        <label for="" class="mt-1">Titulo:</label>
                                        <input type="text" class="form-control" v-model="tareas.title">
                                   </div>

                              </div>

                              <div class="form-group">
                                   <div class="col-md-8">
                                        <label for="" class="mt-1">Descripcion:</label>
                                        <input type="text" class="form-control" v-model="tareas.description">
                                   </div>
                              </div>

                              <div class="col-md-8">
                                   <input type="submit" class="btn btn-success" value="Agregar Tarea">
                              </div>

                         </form>

                    </div>

                    <div class="col-sm-12 col-md-6 col-lg-6 col-xl-6">
                         <h1 class="mb-4"> {{message}} </h1>
                         <table class="table table-hover">
                              <thead>
                                   <tr>
                                        <th>Estado</th>
                                        <th>task</th>
                                        <th>description</th>
                                        <th>Eliminar</th>
                                   </tr>
                              </thead>
                              <tbody>
                                   <tr v-for="item in tareas">
                                        <th scope="row">
                                             <input type="checkbox" v-model="item.estado"> 
                                        </th>
                                        <td :class="{tareaRealizada: item.estado}"> {{item.title}} </td>
                                        <td> {{item.description}} </td>
                                        <td>
                                             <button v-on:click="eliminarTarea(item)" class="btn btn-danger">Eliminar</button>
                                        </td>
                                   </tr>
                              </tbody>
                         </table>
                    </div>
               </div>
          </div>
     </div>




     <div class="container">
          <hr>
          <div id="app-2">
               <p> {{message}} </p>
          </div>
     </div>

     <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
     <script>
          new Vue({
               el: '#taskApp',
               data: {
                    message: 'Hello World en Vuejs CDN',

                    tareas: [
                         {
                              title: "task1",
                              description: "example 1",
                              estado: false
                         },
                         {
                              title: "task2",
                              description: "example 2",
                              estado: false
                         },
                         {
                              title: "task3",
                              description: "example 3",
                              estado: false
                         }
                    ]

               },
               methods: {
                    eliminarTarea: function (item) {
                         alert("Eliminando");
                         this.tareas.splice(this.tareas.indexOf(item), 1)
                    },

                    agregarTarea: function (e) {
                         e.preventDefault();
                         this.tareas.push({
                              title : this.tareas.title,
                              description : this.tareas.description,
                              estado: false
                         })
                         this.tareas.title = "",
                         this.tareas.description = ""
                    }

               }
          })

          const app2 = new Vue({
               el: '#app-2',
               data: {
                    message: 'Creando una variable constante Y asignando una instancia de VUE'
               }
          })

          app2.message = 'Programming for Joel Ronceros Full Stack Dev'
     </script>
</body>

</html>